<!doctype html>
<html lang="en">
<head>
  <!--#include file="/partials/head.html" -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!--#include file="/partials/header.html" -->

  <main id="main" class="container">

    <section class="hero">
      <p class="kicker">Welcome</p>
      <h1>
        Data To Impact —
        <span class="muted">where data and research meet to create impact</span>
      </h1>
      <p class="mt-2">
        Evidence-driven research, notes, and projects across finance analysis and sustainability.
      </p>
    </section>

    <section class="grid grid-3">
      <article class="card">
        <h3>Research</h3>
        <p>
          Finance analysis and sustainability work, organized for clarity and outcomes.
        </p>
        <p>
          <a href="/research.html">Explore research →</a>
        </p>
      </article>

      <article class="card">
        <h3>Notes</h3>
        <p>
          IIFM notes across FM, SD, DSF, and SM. Quick references and summaries.
        </p>
        <p>
          <a href="/notes.html">Browse notes →</a>
        </p>
      </article>

      <article class="card">
        <h3>Projects</h3>
        <p>
          Hands-on work applying data to real-world impact. Case studies and tools.
        </p>
        <p>
          <a href="/projects.html">View projects →</a>
        </p>
      </article>
    </section>

    <hr class="sep">

    <section class="grid grid-2">
      <article class="card">
        <h3>Latest blog posts</h3>
        <div id="home-blogs"></div>
      </article>

      <article class="card">
        <h3>Highlights</h3>
        <ul class="mt-2">
          <li>Blue + green theme, responsive, accessible.</li>
          <li>Desktop title: Data To Impact; Mobile: DTI.</li>
          <li>Simple content system using Markdown and JSON.</li>
        </ul>
      </article>
    </section>

  </main>

  <!--#include file="/partials/footer.html" -->

  <script src="/assets/js/main.js"></script>
  <script type="module">
    import { fetchJSON } from '/assets/js/router.js';

    async function loadRecent() {
      try {
        const res = await fetch('/content/blogs/index.json');
        const data = await res.json();
        const top = (data || []).slice(0, 3);

        document.getElementById('home-blogs').innerHTML = top.length
          ? top.map(p => `
              <div class="mt-2">
                <a href="/content/blogs/${p.file}" target="_blank" rel="noopener">
                  ${p.title}
                </a>
                <div class="muted">${p.date || ''}</div>
              </div>
            `).join('')
          : '<p class="muted">No posts yet.</p>';

      } catch {
        document.getElementById('home-blogs').innerHTML =
          '<p class="muted">No posts yet.</p>';
      }
    }

    loadRecent();
  </script>
</body>
</html>
